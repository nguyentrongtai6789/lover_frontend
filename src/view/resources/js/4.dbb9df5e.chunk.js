(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1325:function(e,t,a){},1326:function(e,t,a){"use strict";var n=a(33),c=a(0),r=a.n(c),o=a(76),l=a(1202),i=a(1674),s=a(175),u=a(200),m=a(5),d=a(35),f=a(70),g=a(3),p=(a(1293),Object(c.forwardRef)(function(e,t){var a=Object(c.useState)(!1),p=Object(n.a)(a,2),v=p[0],b=p[1],h=Object(c.useState)(""),E=Object(n.a)(h,2),O=E[0],k=E[1],j=Object(c.useState)(""),y=Object(n.a)(j,2),C=y[0],I=y[1],N=Object(c.useState)({files:null,link:""}),x=Object(n.a)(N,2),S=x[0],M=x[1],w=Object(c.useState)(""),R=Object(n.a)(w,2),_=R[0],U=R[1],V=Object(c.useState)(""),L=Object(n.a)(V,2),A=L[0],D=L[1],T=Object(c.useRef)(),q=Object(c.useRef)(),B=Object(d.d)(function(e){return e.group.stories}),H=B.loading,G=B.myStoriesActive,J=void 0===G?[]:G,z=Object(d.c)();Object(c.useImperativeHandle)(t,function(){return{handleVisible:function(e){b(e||!1)}}}),Object(c.useEffect)(function(){v&&J.length>=5&&D("err.max3video"),v||(k(""),I(""),M({files:null,link:""}))},[v]);return r.a.createElement(o.a,Object.assign({},e,{show:v,onHide:function(){return b(!1)}}),r.a.createElement("div",{className:"create__action"},r.a.createElement("div",{className:"create__action--left"},r.a.createElement(l.a,{controlId:"formControlsTextarea"},r.a.createElement(i.a,null,r.a.createElement(m.b,{id:"gameprofile.description"})," *"),r.a.createElement(s.a,{value:O,componentClass:"textarea",maxLength:"200",rows:"5",onChange:function(e){return k(e.target.value)}})),r.a.createElement(l.a,{controlId:"formControlsText"},r.a.createElement(i.a,null,"Hashtags"),r.a.createElement(s.a,{type:"text",value:C,onChange:function(e){return e.target.value.split(",").length<6&&I(e.target.value.replace("#",""))},maxLength:"150"}),r.a.createElement("small",null,C?C.split(",").map(function(e,t){return r.a.createElement("span",{key:e+t},"#",e.trim().replace(/ /g,"_"))}):null)),r.a.createElement(u.a,{bsStyle:"danger",className:"btn-fill",disabled:J.length>=5||!O||!S.link||A||H,onClick:function(){z(Object(f.t)({content:O,video:S.files,imagePreview:_,themeTags:C.length?C.split(",").map(function(e){return g.d.removeVietnameseAccents(e.trim().replace(/ /g,"_"))}):[]},function(){return b(!1)}))}},H&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"})," ",r.a.createElement(m.b,{id:"button.post"}))),r.a.createElement("div",{className:"create__action--right"},r.a.createElement("div",{className:"post-video"},r.a.createElement("input",{className:"hidden",ref:T,type:"file",name:"file-video",accept:"video/*",onChange:function(e){var t=e.target,a=t.type,n=t.files,c=t.name;if("file"===a&&"file-video"===c)return n[0]?1===n.length&&n[0].size>40420460?(M({files:null,link:""}),D("Max 40mb")):(function(e){var t=new FileReader;console.log(t),t.onload=function(){var a=new Blob([t.result],{type:e.type}),n=URL.createObjectURL(a),c=document.createElement("video"),r=function e(){o()&&(c.removeEventListener("timeupdate",e),c.pause())};c.addEventListener("loadeddata",function(){o()&&(c.removeEventListener("timeupdate",r),c.remove(),c&&(c.style.display="none"))});var o=function(){var e=document.createElement("canvas");e.width=c.videoWidth,e.height=c.videoHeight,e.getContext("2d").drawImage(c,0,0,e.width,e.height);var t=e.toDataURL(),a=t.length>1e5;return a&&U(t),a};c.addEventListener("timeupdate",r),c.preload="metadata",c.src=n,c.muted=!0,c.playsInline=!0,c.play()},t.readAsArrayBuffer(e)}(n[0]),M({files:n,link:URL.createObjectURL(n[0])})):M({files:null,link:""})}}),S.link?r.a.createElement("div",{className:"preview-video"},r.a.createElement("video",{playsInline:!0,onLoadedData:function(){return q.current&&q.current.duration>61?(M({files:null,link:""}),D("err.max60s")):D("")},ref:q,controls:!0,width:"100%",controlsList:"nodownload",src:S.link,id:"video-story"}),r.a.createElement("i",{className:"fas fa-times-circle",onClick:function(){return!H&&M({files:null,link:""})}})):r.a.createElement("a",{onClick:function(){return J.length<5&&T.current.click()}},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-play-circle fa-2x"})," ",r.a.createElement(m.b,{id:"userProfile.postVideo"}),A?r.a.createElement("small",{className:"error"},r.a.createElement(m.b,{id:A})):null))))))}));t.a=r.a.memo(p)},1352:function(e,t,a){"use strict";var n=a(33),c=a(16),r=a.n(c),o=a(0),l=a.n(o),i=a(355),s=a.n(i),u=a(161),m=a.n(u),d=a(261),f=a(3),g=a(1209),p=a(347),v=a.n(p),b=a(30),h=(a(1499),a(76)),E=a(1202),O=a(1674),k=a(175),j=a(1675),y=a(200),C=function(e){var t=e.show,a=e.setShow,c=e.blockUserRequest,r=e.author,i=Object(o.useState)(""),s=Object(n.a)(i,2),u=s[0],m=s[1],d=Object(o.useState)(""),f=Object(n.a)(d,2),g=f[0],p=f[1],v=function(){a(!1)};return l.a.createElement(h.a,{show:t,onHide:v},l.a.createElement(h.a.Header,{closeButton:!0},l.a.createElement(h.a.Title,null,"C\u1ea5m chat")),l.a.createElement(h.a.Body,null,l.a.createElement(E.a,{controlId:"formBasicText",validationState:function(){var e=u.length;return e>0?"success":0===e||e>255?"error":null}()},l.a.createElement(O.a,null,"L\xed do c\u1ea5m chat"),l.a.createElement(k.a,{type:"text",value:u,placeholder:"l\xed do",onChange:function(e){m(e.target.value),e.target.value&&e.target.value.length>255?p("T\u1ed1i \u0111a 255 k\xed t\u1ef1"):p("")}}),l.a.createElement(k.a.Feedback,null),l.a.createElement(j.a,null,g||null))),l.a.createElement(h.a.Footer,null,l.a.createElement(y.a,{onClick:v},"Close"),l.a.createElement(y.a,{bsStyle:"danger",onClick:function(){0===u.trim().length?p("Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):c(r._id,{status:"block",reason:u})}},"Block")))},I=function(e){var t=e.message,a=e.author,c=e.blockUserRequest,r=/(https?:\/\/[^\s]+)\b([-a-zA-Z0-9@:%_.~#?&//=]*)/g,i=/playerduo.net|poketrainer.net|shope|mycollection/gi,s=Object(o.useState)(!1),u=Object(n.a)(s,2),m=u[0],p=u[1];if(!t)return null;var h=t.split("\n").map(function(e,t){var a=e.replace(/\&lt;/gi,"<");a=a.replace(/script|localStorage|document|fetch|cookie/g,""),!/fa-bitcoin|@([a-z0-9]{1,100})<(.*?)>/gi.test(a)&&(a=a.replace(/<[^>]+>/g,"")),(a=(a=(a=a.replace(/@([a-z0-9]{1,100})<(.*?)>/gi,"<a target='_blank' class='link tag' href='/$1'>$2</a>")).replace(r,"<a target='_blank' href='$1' class='link'>$1</a>")).replace(/(>http[s]?:\/\/[^\s]+)\b([/])/g,">")).includes("<a target")&&!i.test(a)&&(a=a.replace(r,""));var n=v()(a);return 1===e.indexOf("\n")?-1!==e.indexOf("https://")||-1!==e.indexOf("http://")?n:e.slice(e.indexOf("\n")):-1!==e.indexOf("https://")||-1!==e.indexOf("http://")?n:e?n:l.a.createElement("br",null)});return/18\+|fuck|v\xfa|b\u01b0\u1edbm|\u0111\u1ecbt|\u0111\u1ee5|\u0111\u1ee5 m\u1eb9|l\u1ed3n|c\u1eb7c|\u0111\u0129|show|sex|dirty talk|d\xe2m/g.test(t)?null:l.a.createElement(g.a,{className:"global_message__item"},l.a.createElement(g.a.Left,null,l.a.createElement(b.b,{to:"/".concat(a.url||"page".concat(a._id)),target:"_blank"},l.a.createElement(d.a,{size:"sm",url:f.d.getLinkImage(a.avatar),rankVip:a.rank}))),l.a.createElement(g.a.Body,{className:"admin"===a.role||"manager"===a.role?"admin":""},l.a.createElement("p",{className:"chat-name"},l.a.createElement("strong",{className:f.e.classOfVipName(a.rank)},l.a.createElement("span",{className:"cursor-pointer",onClick:function(){window.open("".concat(window.location.origin,"/").concat(a.url||"page".concat(a._id)))}},a.name.replace(/\u3164/g,"").length>38?a.name.replace(/\u3164/g,"").substring(0,35)+"...":a.name.replace(/\u3164/g,"")," "),!["normal",void 0].includes(localStorage.role)&&l.a.createElement("i",{onClick:function(){p(!0)},className:"fas fa-ban"})," "),a.trustTypes&&a.trustTypes.includes("pay")&&l.a.createElement("i",{className:"fas fa-check-circle"})," ",":"," "),l.a.createElement("p",{className:"mess-global"},h)),l.a.createElement(C,{author:a,show:m,setShow:p,blockUserRequest:c}))};I.defaultProps={message:"",author:{}};var N=I,x=(a(1500),l.a.memo(function(e){var t=e.data,a=e.fetchGlobalMessage,n=(e.extend,e.isConnect),c=e.blockUserRequest,r=t||{},i=r.messages,s=r.loadingMessage,u=void 0===s?{}:s,d=r.hasMore,f=r.idUserAuthorChat,g=Object(o.useRef)(null),p=function(){g.current.scrollIntoView(!1)},v=function(e){a(i,e)};Object(o.useEffect)(function(){g.current&&Array.isArray(i)&&i.length<=20&&p()},[i]),Object(o.useEffect)(function(){v(!n&&i.length>0),p()},[n]);Object(o.useEffect)(function(){var e=document.getElementById("global-chat"),t=function(e){if(e){var t=getComputedStyle(e),a=parseInt(t.paddingTop)+parseInt(t.paddingBottom);return e.clientHeight-a}return 0}(e),a=e.scrollHeight-(e.scrollTop+t)<200;(localStorage.idUser===f||!u.newMessage&&e&&a)&&p()},[u.newMessage]);return l.a.createElement("div",{id:"global-chat",className:"global-chat-display"},l.a.createElement(m.a,{pageStart:0,loadMore:function(){i&&i[0]&&(u.message||v())},hasMore:d,loader:l.a.createElement("div",{className:"text-center",key:"spin-global-chat"},l.a.createElement("i",{className:"fa fa-spinner fa-spin"})),useWindow:!1,initialLoad:!1,threshold:20,isReverse:!0},n?(i||[]).map(function(e,t){return l.a.createElement(N,Object.assign({key:e._id+t,author:e.sender||{},message:e.body?e.body.content:"",isConnect:!0,blockUserRequest:c},e))}):(i||[]).map(function(e){return l.a.createElement(N,Object.assign({key:e._id},e,{blockUserRequest:c}))}),l.a.createElement("div",{ref:g})))})),S=a(351),M=a(129),w=a(34),R=(a(12),a(2)),_=(a(103),a(137),a(7)),U=a.n(_),V=(a(541),a(35)),L=a(62),A=function(e){var t=e.authorId,a=void 0===t?{}:t,n=e.teammates,c=void 0===n?[]:n,r=e.friends,o=void 0===r?[]:r,l=e.userId;if(l===a._id)return!1;var i=-1;return-1!==(i=c.findIndex(function(e){return e._id===l}))?c[i].isMuted:-1===(i=o.findIndex(function(e){return e._id===l}))||o[i].isMuted},D=function(e){var t=e.authorId,a=void 0===t?{}:t,n=e.teammates,c=void 0===n?[]:n,r=e.friends,o=void 0===r?[]:r,l=e.userId;if(l===a._id)return!0;return-1!==c.findIndex(function(e){return e._id===l})||-1!==o.findIndex(function(e){return e._id===l})},T=function(){try{var e=localStorage.getItem("listRoomMuted"),t=!1;if(!e)return[];e.length>1e3&&(t=!0);var a=JSON.parse(e);return t&&(a.pop(),a.pop(),localStorage.setItem("listRoomMuted",JSON.stringify(a))),a}catch(n){return localStorage.removeItem("listRoomMuted"),[]}},q=function(e){var t=e.listUserMuted,a=e.roomId,n=T(),c=n.findIndex(function(e){return e.roomId===a});-1===c?n.unshift({roomId:a,listUserMuted:t}):n[c]={roomId:a,listUserMuted:t},localStorage.setItem("listRoomMuted",JSON.stringify(n))};Object(o.createContext)({stream:void 0,start:void 0,stop:function(){}});Object(o.createContext)({audioCtx:void 0,source:void 0}),Object(o.createContext)({analyser:void 0}),a(18);a(1501),a(1502);var B={socketDonate:null},H={state:B,setState:function(e){return e}};Object(o.createContext)(H);var G=null,J=null,z={socket:null,channel:null,categoryId:null,playerId:null,detailRoom:{},currentStream:null,volume:100,volumeVoice:100,userOnMic:[],mutes:{},isSpeaker:!1,isMuted:!1,isConnect:!1,isJoin:!0,api:null,isLoadJitsi:!1,devices:{},currentDevices:{},isShow:!1,listUserMuted:[]},F={state:z,setState:function(e){return e}},P=Object(o.createContext)(F),$=function(){var e=Object(o.useContext)(P),t=Object(L.h)(),a=e.state,n=e.setState,c=function(){J&&J.executeCommand("toggleAudio")};return Object(R.a)({},a,{emitJoinRoom:function(e){var t=e.gameId,a=e.gameRoomId;G&&G.emit&&G.emit("game-room",{action:"joined-game-room",data:{gameId:t,gameRoomId:a}})},setVolume:function(e){n(Object(R.a)({},a,{volume:e}))},toggleAudio:c,setDetailRoom:function(e){n(Object(R.a)({},a,{detailRoom:e}))},setCategory:function(e){n(Object(R.a)({},a,{categoryId:e}))},handleJoinLeaveRoom:function(e){var t=e.action;U()(a,"detailRoom.authorId._id")!==localStorage.idUser&&"join"===t&&c()},setIsMuted:function(e){c(),n(Object(R.a)({},a,{isMuted:e}))},setAudioOutputDevice:function(e){J.setAudioOutputDevice(e.label,e.deviceId),n(Object(R.a)({},a,{currentDevices:Object(R.a)({},a.currentDevices,{audioOutput:e})}))},setAudioInputDevice:function(e){J.setAudioInputDevice(e.label,e.deviceId),n(Object(R.a)({},a,{currentDevices:Object(R.a)({},a.currentDevices,{audioInput:e})}))},closeModal:function(){n(Object(R.a)({},a,{isShow:!1}))},setVolumeVoice:function(e){n(Object(R.a)({},a,{volumeVoice:e}))},mutePersonal:function(e){var c=e.userId;if(e.muted){var r=a.listUserMuted.filter(function(e){return e!==c});n(Object(R.a)({},a,{listUserMuted:r})),q({listUserMuted:r,roomId:t.id})}else n(Object(R.a)({},a,{listUserMuted:[].concat(Object(w.a)(a.listUserMuted),[c])})),q({listUserMuted:[].concat(Object(w.a)(a.listUserMuted),[c]),roomId:t.id})}})},K=a(1266),W=a.n(K),Z=a(1205),Q=a(601),X=a(1199),Y=a(5),ee=a(29),te=a(542),ae=a(1353),ne=(a(1503),function(e){var t=e.isHide,a=e.setIsHide,n=$(),c=n.volume,r=n.setVolume;return l.a.createElement(l.a.Fragment,null,0===c?l.a.createElement("i",{className:"fa fa-volume-mute"}):l.a.createElement("i",{className:"fas fa-volume-up"})," ",l.a.createElement("span",null,"\xc2m l\u01b0\u1ee3ng"),l.a.createElement("div",{className:"volume__voice "},l.a.createElement("div",{className:"volume__voice--control ".concat(t?"hide":"show")},l.a.createElement(ae.a,{styles:{track:{backgroundColor:"#f5f5f5"},active:{backgroundColor:"#f0564a"},thumb:{width:20,height:20},disabled:{opacity:.5}},onDragEnd:function(){a(!0)},yreverse:!0,axis:"y",y:c,onChange:function(e){var t=e.y;r(t)}}))))}),ce=a(4),re=a(1676),oe=(a(1504),function(e){var t=e.label,a=e.data,n=void 0===a?[]:a,c=e.value,r=void 0===c?{}:c,o=e.onChange;return l.a.createElement("div",{className:"audio-input-output"},l.a.createElement("span",null,t),l.a.createElement("br",null),l.a.createElement("select",{onChange:function(e){var t=n.find(function(t){return t.groupId===e.target.value});t&&o(t)},className:"selectpicker",value:r.groupId},(n||[]).map(function(e){return l.a.createElement("option",{key:e.deviceId,value:e.groupId},e.label)})))}),le=function(e){var t=e.volumeVoice,a=e.setVolumeVoice,n=e.isMuted;return l.a.createElement("div",{className:"audio-input-output"},l.a.createElement("span",null,"\xc2m l\u01b0\u1ee3ng Mic"),l.a.createElement(ae.a,{className:"voice--volume",styles:{track:{backgroundColor:"#f5f5f5"},active:{backgroundColor:"#f0564a"},thumb:{width:20,height:20},disabled:{opacity:.5}},disabled:n,axis:"x",x:t,onChange:function(e){var t=e.x;a(t)}}))},ie=(a(1505),function(){var e=$(),t=e.detailRoom,a=e.isMuted,n=e.setIsMuted,c=e.devices,r=void 0===c?{}:c,o=e.currentDevices,i=void 0===o?{}:o,s=e.setAudioOutputDevice,u=e.setAudioInputDevice,m=e.setVolumeVoice,d=e.volumeVoice,f=Object(V.c)(),g=function(){return localStorage.idUser?D(Object(R.a)({},t,{userId:localStorage.idUser}))?A(Object(R.a)({},t,{userId:localStorage.idUser}))?f(Object(ce.c)(!1,"B\u1ea1n \u0111\xe3 b\u1ecb t\u1eaft ti\u1ebfng b\u1edfi ch\u1ee7 ph\xf2ng")):void n(!a):f(Object(ce.c)(!1,"Tham gia s\u1ea3nh \u0111\u1ec3 th\u1ef1c hi\u1ec7n t\xednh n\u0103ng!")):f(Object(ce.c)(!1,"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng!"))},p=l.a.createElement(Z.a,{id:"popover-positioned-top",title:"B\u1ea3ng \u0111i\u1ec1u khi\u1ec3n \xe2m thanh"},l.a.createElement(oe,{label:"Microphone",data:r.audioInput||[],value:i.audioInput,onChange:u}),l.a.createElement(oe,{label:"Loa",data:r.audioOutput||[],value:i.audioOutput,onChange:s}),l.a.createElement(le,{setVolumeVoice:m,volumeVoice:d,isMuted:a}),l.a.createElement("div",{className:"btn-micro"},a?l.a.createElement("i",{class:"fas fa-microphone-slash",onClick:g}):l.a.createElement("i",{className:"fas fa-microphone",onClick:g})," ",a?l.a.createElement(re.a,{bsClass:"label",bsStyle:"success",onClick:g},"B\u1eadt mic"):l.a.createElement(re.a,{bsClass:"label",bsStyle:"danger",onClick:g},"T\u1eaft mic")));return l.a.createElement(X.a,{trigger:"click",rootClose:!0,placement:"top",overlay:p},l.a.createElement("p",{className:"btn-micro"},a?l.a.createElement("i",{class:"fas fa-microphone-slash"}):l.a.createElement("i",{className:"fas fa-microphone"})," ",l.a.createElement("span",null,"Mic")))}),se=Object(Y.g)(function(e){var t=e.intl,a=e.requestGlobalMessage,c=e.setNotificationStatus,r=e.isConnect,i=e.disabledChat,s=e.data||{},u=s.messages,m=s.loadingMessage,d=void 0===m?{}:m,p=Object(o.useState)(""),v=Object(n.a)(p,2),b=v[0],h=v[1],O=Object(o.useState)(!0),j=Object(n.a)(O,2),y=j[0],C=j[1],I=Object(o.useState)(!1),N=Object(n.a)(I,2),x=N[0],w=N[1],R=Object(o.useState)(!1),_=Object(n.a)(R,2),L=_[0],A=_[1],D=Object(o.useState)(-1),T=Object(n.a)(D,2),q=T[0],B=T[1],H=Object(o.useRef)(),G=$().isLoadJitsi,J=Object(V.c)(),z=Object(V.d)(function(e){return e.gameCategory.detailRoom}),F=function(e){return e?r?e.sender:e.author:W()(u,r?"sender.name":"author.name")},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(b.slice(0,q),"@<").concat(e,">"),n=b.slice(t||q+1),c="".concat(a).concat(n," ");-1===b.indexOf(e)&&h(c),B(-1),A(!1),H.current.focus()},K=function(e){if((0!==b.trim().length&&(!(b.trim().length>255)||(c(!1,t.formatMessage({id:"err.max200char"})),0))&&f.d.filterChar(b)||e)&&localStorage.token){var n=b.trim();F().map(function(e){return n.indexOf("@<".concat(F(e).name,">"))>-1&&(n=n.replace("@<".concat(F(e).name,">"),"@".concat(F(e).url||"page".concat(F(e)._id),"<").concat(F(e).name,">")))});var o={body:{content:e||n},type:"text"};if(A(!1),n.length>255)return c(!1,t.formatMessage({id:"err.max200char"}));a(r?o:n)}h("")},ae=l.a.createElement(Z.a,{id:"popover-positioned-top",title:l.a.createElement(Y.b,{id:"gameprofile.batmicrophone"})},l.a.createElement("a",{href:"https://support.google.com/chrome/answer/2693767?co=GENIE.Platform%3DDesktop&hl=vi",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(Y.b,{id:"title.clickhere"}))),ce=l.a.createElement(Z.a,{id:"popover-emoij-top"},l.a.createElement(te.a,{setValue:h,value:b}));return l.a.createElement(E.a,{controlId:"formChatText",className:r&&"connect-room ".concat(!1===G?"connect-room-loading":"")},L&&l.a.createElement("div",{className:"box-acc"},l.a.createElement("div",{className:"list-tag"},function(){if(d.message)return l.a.createElement("i",{className:"fa fa-spinner fa-spin"});var e=f.d.removeVietnameseAccents(b.slice(q+1).split(" ")[0]).toLowerCase();return F().map(function(t){return F(t)._id===localStorage.idUser||"admin"===F(t).role||-1===f.d.removeVietnameseAccents(F(t).name.toLowerCase()).indexOf(e)?null:l.a.createElement(g.a,{onClick:function(){return P(F(t).name,H.current.selectionStart)}},l.a.createElement(g.a.Left,null,l.a.createElement(ee.a,{size:"sm",url:f.d.getLinkImage(F(t).avatar),sizeVip:18,rankVip:F(t).rank&&f.d.urlRankVip_New(F(t).rank),classRank:"rank-vip"})),l.a.createElement(g.a.Body,null,l.a.createElement("strong",{className:"list-group-item ".concat(f.e.classOfVipName(F(t).rank))},F(t).name)))})}())),l.a.createElement(Q.a,null,l.a.createElement(k.a,{inputRef:H,type:"text",value:b,placeholder:e.intl.formatMessage({id:"playerHistory.reply"}),onChange:function(e){var t=e.target.value,a=H.current.selectionStart-1;if(" "===t.charAt(a)&&q>-1){var n=F().filter(function(e){return f.d.removeVietnameseAccents(F(e).name.toLowerCase()).indexOf(f.d.removeVietnameseAccents(t.slice(q+1,a)).trim())>-1});if(n.length>0)return P(F(n[0]).name,a)}"@"!==t.charAt(q)&&(B(-1),A(!1)),h(t.replace("\u3164",""))},onKeyPress:function(e){return 32===e.charCode?A(!1):"@"===e.key?(B(e.target.selectionStart),A(!0)):void(e.shiftKey||13===e.charCode&&(K(),e.preventDefault()))},maxLength:255,disabled:!localStorage.getItem("token")||i}),localStorage.token&&l.a.createElement("p",{className:"send-chat",onClick:K},l.a.createElement("i",{className:"fas fa-paper-plane"})),r?l.a.createElement(X.a,{trigger:"click",rootClose:!0,placement:"top",overlay:ce},l.a.createElement(Q.a.Addon,null,l.a.createElement("i",{className:"far fa-grin"}))):l.a.createElement(Q.a.Addon,{className:"scope-icon"})),r&&l.a.createElement("div",{className:"connect-chat ".concat(!1===G?"connect-loading":"")},G&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ie,null),l.a.createElement("p",{className:"btn-volume",onClick:function(){return C(!y)}},l.a.createElement(ne,{isHide:y,setIsHide:C}))),l.a.createElement("p",{className:"btn-tip",onClick:function(){if(localStorage.token)return localStorage.idUser===U()(z,"authorId._id","")?c(!1,t.formatMessage({id:"playerDonate.yourself"})):void w(!0)}},l.a.createElement("i",{className:"fab fa-bitcoin"})," ",l.a.createElement("span",null,"Tip")),l.a.createElement("p",{className:"btn-directing"},l.a.createElement(X.a,{trigger:"click",rootClose:!0,placement:"top",overlay:ae},l.a.createElement("i",{className:"fas fa-question-circle"}))),l.a.createElement(S.a,{show:x,close:function(){return w(!1)},playerInformation:{playerSetting:{nickName:U()(z,"authorId.name","")},_id:U()(z,"authorId._id","")},submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;J(Object(M.b)({amount:e,displayName:t,message:a,pdUserReceive:n,unlockTime:c,lang:r})),K("\u0110\xe3 \u1ee7ng h\u1ed9 <strong>".concat(e/1e3,"</strong> <i class='fab fa-bitcoin' />")),w(!1)},unlockSecurityCode:function(e){return J(Object(M.f)(e))},isConnect:!0})))}),ue=(a(1506),function(e){var t=e.data,a=e.fetchGlobalMessage,n=e.requestGlobalMessage,c=e.setNotificationStatus,r=e.extend,o=e.setExtend,i=e.isConnect,s=e.disabledChat,u=e.blockUserRequest;return l.a.createElement("div",{className:"global-chat"},l.a.createElement(x,{data:t,fetchGlobalMessage:a,extend:r,isConnect:i,blockUserRequest:u}),l.a.createElement(se,{data:t,requestGlobalMessage:n,setNotificationStatus:c,extend:r,setExtend:o,isConnect:i,disabledChat:s}))}),me=(a(1325),null);t.a=function(e){var t=e.type,a=e.data,c=e.fetchGlobalMessage,i=e.requestGlobalMessage,u=e.messageFetched,m=e.setMessageLoading,d=e.blockUserRequest,f=Object(o.useState)(!1),g=Object(n.a)(f,2),p=g[0],v=g[1];Object(o.useEffect)(function(){return b(),function(){me.disconnect(!0),m({message:!1},!0)}},[]);var b=function(){var e=s()("".concat(r.a.socketUrl,"/outside?deviceType=browser"),{path:"/socket",transports:["websocket","polling"]});e.on("error",function(e){}),e.on("global-chat",function(e){"new-global-message"===e.action&&t===e.data.type&&(m({newMessage:!0}),u([],void 0,e.data||{}),m({newMessage:!1}))}),me=e};return a.isLoading?null:l.a.createElement("div",{className:"slide extend-box"},l.a.createElement(ue,{data:a,fetchGlobalMessage:c,requestGlobalMessage:i,blockUserRequest:d,extend:p,setExtend:v}))}},1499:function(e,t,a){},1500:function(e,t,a){},1501:function(e,t,a){e.exports=a.p+"static/media/join.cccc7840.mp3"},1502:function(e,t,a){e.exports=a.p+"static/media/leave.97fa661c.mp3"},1503:function(e,t,a){},1504:function(e,t,a){},1505:function(e,t,a){},1506:function(e,t,a){}}]);